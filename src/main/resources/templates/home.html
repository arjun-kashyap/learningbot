<html>
<head>
    <title></title>
</head>
<body>
<script>
function getAnswer() {
    var question = document.getElementById("question").value;
    var conversation = document.getElementById("conversation").value;
    conversation = conversation + "\nYou: " + question;
    document.getElementById("conversation").value = conversation;
    document.getElementById("question").value = "";
    document.getElementById("submit").value = "Please wait";
    document.getElementById("submit").disabled = true;

    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            response = JSON.parse(this.responseText);
            document.getElementById("conversation").value = conversation + "\nChatBot: " + response.topAnswer.answerString + "\n";
            document.getElementById("debug").value = JSON.stringify(response, null, 2);
            document.getElementById("submit").value = "Submit";
            document.getElementById("submit").disabled = false;
        }
    };
    xmlhttp.open("POST", "postQuestion", true);
    xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    xmlhttp.send(JSON.stringify({"questionString":question}));
}

function upvoteAnswer() {
    alert("You think this answer is good");
}

function getAnotherAnswer() {
    alert("You want another answer");
}


</script>

<div>
    <table border="0" cellpadding="0" cellspacing="10" style="width:80%;">
        <tbody>
        <tr>
            <td style="width:80%; vertical-align:top">
                <B>How may I help you? </B>Type your question in the box below
            </td>
            <td style="width:20%; vertical-align:top">
                <B>Debug Info</B>
            </td>
        </tr>
        <tr>
            <td style="width:80%; vertical-align:top; background-color:#D0D0D0">
                <textarea id="conversation" style="background-color:#D0D0D0; border: none; width: 100%; resize: none;" readonly="readonly" rows="20"></textarea>
                <textarea style="border:1; width: 100%;" id="question" name="question" rows="5"></textarea>
            </td>
            <td style="width:20%; vertical-align:top; background-color:#D0D0D0">
                <textarea id="debug" style="background-color:#D0D0D0; border: none; width: 100%; resize: none;" readonly="readonly" rows="26"></textarea>
            </td>
        </tr>
        <tr>
            <td style="text-align: right;"><input type="button" id="submit" onclick="getAnswer()" value="Submit">
                <input type="button" id="upvote" onclick="upvoteAnswer()" value="This answer is good">
                <input type="button" id="nextAnswer" onclick="getAnotherAnswer()" value="Give me another answer"></td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>